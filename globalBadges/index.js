(function(a,c,g){"use strict";const b={customBadgesArray:function(e){return!e||!Array.isArray(e.badges)?[]:e.badges.map(function(t){return{type:t.name,label:t.name,uri:t.badge}})},aliu:function(e){return[{type:"dev",label:"Aliucord Dev",uri:"https://cdn.discordapp.com/emojis/860165259117199401.webp"},{type:"donor",label:"Aliucord Donor",uri:"https://cdn.discordapp.com/emojis/859801776232202280.webp"},{type:"contributor",label:"Aliucord Contributor",uri:"https://cdn.discordapp.com/emojis/886587553187246120.webp"}].filter(function(t){return e?.[t.type]})},bd:function(e){return e?.dev?[{type:"dev",label:"BD Dev",uri:"https://raw.githubusercontent.com/domi-btnr/ClientModBadges-API/refs/heads/main/badges/betterdiscord/developer.png"}]:[]},enmity:function(e,t){const r=[];return e?.supporter?.data&&r.push({type:"supporter",label:"Enmity Supporter",uri:e.supporter.data.url.dark}),e?.staff?.data&&r.push({type:"staff",label:"Enmity Staff",uri:e.staff.data.url.dark}),e?.dev?.data&&r.push({type:"dev",label:"Enmity Dev",uri:e.dev.data.url.dark}),e?.contributor?.data&&r.push({type:"contributor",label:"Enmity Contributor",uri:e.contributor.data.url.dark}),e?.[t.id]?.data&&r.push({type:"user",label:"Enmity User",uri:e[t.id].data.url.dark}),r},goosemod:function(e){const t=[];return e?.sponsor&&t.push({type:"sponsor",label:"GooseMod Sponsor",uri:"https://goosemod.com/img/goose_globe.png"}),e?.dev&&t.push({type:"dev",label:"GooseMod Dev",uri:"https://goosemod.com/img/goose_glitch.jpg"}),e?.translator&&t.push({type:"translator",label:"GooseMod Translator",uri:"https://goosemod.com/img/goose_globe.png"}),t},replugged:function(e){const t=[];return e?.developer&&t.push({type:"developer",label:"Replugged Developer",uri:"https://raw.githubusercontent.com/domi-btnr/ClientModBadges-API/refs/heads/main/badges/replugged/developer.png"}),e?.staff&&t.push({type:"staff",label:"Replugged Staff",uri:"https://raw.githubusercontent.com/domi-btnr/ClientModBadges-API/refs/heads/main/badges/replugged/staff.png"}),e?.support&&t.push({type:"support",label:"Replugged Support",uri:"https://raw.githubusercontent.com/domi-btnr/ClientModBadges-API/refs/heads/main/badges/replugged/support.png"}),e?.contributor&&t.push({type:"contributor",label:"Replugged Contributor",uri:"https://raw.githubusercontent.com/domi-btnr/ClientModBadges-API/refs/heads/main/badges/replugged/contributor.png"}),e?.translator&&t.push({type:"translator",label:"Replugged Translator",uri:"https://raw.githubusercontent.com/domi-btnr/ClientModBadges-API/refs/heads/main/badges/replugged/translator.png"}),e?.hunter&&t.push({type:"hunter",label:"Replugged Hunter",uri:"https://raw.githubusercontent.com/domi-btnr/ClientModBadges-API/refs/heads/main/badges/replugged/hunter.png"}),e?.early&&t.push({type:"early",label:"Replugged Early Access",uri:"https://raw.githubusercontent.com/domi-btnr/ClientModBadges-API/refs/heads/main/badges/replugged/early.png"}),e?.booster&&t.push({type:"booster",label:"Replugged Booster",uri:"https://raw.githubusercontent.com/domi-btnr/ClientModBadges-API/refs/heads/main/badges/replugged/booster.png"}),e?.custom?.name&&t.push({type:"custom",label:e.custom.name,uri:e.custom.icon}),t},vencord:function(e){const t=[];return e?.contributor&&t.push({type:"contributor",label:"Vencord Contributor",uri:"https://vencord.dev/assets/logo.png"}),Array.isArray(e?.cutie)&&e.cutie.forEach(function(r,o){t.push({type:`cutie${o}`,label:r.tooltip,uri:r.image})}),t},equicord:function(e){const t=[];return e?.contributor&&t.push({type:"contributor",label:"Equicord Contributor",uri:"https://equicord.org/assets/icons/equicord/icon.png"}),Array.isArray(e?.cutie)&&e.cutie.forEach(function(r,o){t.push({type:`cutie${o}`,label:r.tooltip,uri:r.image})}),t},raincord:function(e){return Array.isArray(e)?e.map(function(t){return{type:t.label,label:t.label,uri:t.url}}):[]},reviewdb:function(e){return Array.isArray(e)?e.map(function(t){return{type:t.name,label:t.name,uri:t.icon}}):[]}},p=window.bunny.api.react.jsx,n=new Map,h=1e3*60*30,m=c.findByName("useBadges",!1);let l,u;var f={onLoad:function(){const e={};p.onJsxCreate("ProfileBadge",function(t,r){if(r.props.id?.startsWith("gb-")){const o=e[r.props.id];o&&(r.props.source=o.source,r.props.label=o.label,r.props.id=o.id)}}),p.onJsxCreate("RenderBadge",function(t,r){if(r.props.id?.startsWith("gb-")){const o=e[r.props.id];o&&Object.assign(r.props,o)}}),l=g.after("default",m,function([t],r){if(t===null)return;if(u=n.get(t.userId),u===void 0){y(t.userId);return}const o=function(s){r.push(s)};Object.entries(u?.badges).forEach(function([s,v]){b[s]?.(v,t).forEach(function({type:A,label:i,uri:w}){console.log(`Adding badge: ${i}`);const d=`gb-${s}-${A}`;e[d]={id:d,source:{uri:w},label:i,userId:t.userId},o({id:d,description:i,icon:"dummy"})})})})},onUnload:function(){l?.()}};async function y(e){if(!n.has(e)||n.get(e).lastFetch+h<Date.now()){const t=await fetch(`https://api.obamabot.me/v2/text/badges?user=${e}`),r=await t.json(),o=t.status===200||t.status===404?{badges:r||{},lastFetch:Date.now()}:(n.delete(e),{badges:r,lastFetch:Date.now()});n.set(e,o)}return n.get(e).badges}return a.default=f,Object.defineProperty(a,"__esModule",{value:!0}),a})({},vendetta.metro,vendetta.patcher);
